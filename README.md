<!-- BEGIN_TF_DOCS -->
# terraform-aws-kubernetes

[![official JetBrains project](https://jb.gg/badges/official.svg)](https://confluence.jetbrains.com/display/ALL/JetBrains+on+GitHub)

This repository contains a Terraform Module that sets up a Kubernetes infrastructure on AWS using Elastic Kubernetes Service (EKS).
It provides flexibility in managing its own internal networking infrastructure or using an external one, and supports different types
of node pools. The repository also includes guides for usage and contribution, automated tests, and examples for ready use.

## Compatibility

The minimum supported Terraform version is: 1.3.0.

## Features

* Configure Kubernetes cluster network with options for internal and external networking, VPC settings, subnetting, DNS, DHCP, ACLs, VPC tags and other.

* Support both AWS-managed and self-managed compute pools, with detailed configurations for instance types, scaling, and labeling.

* Specify IAM roles and policies for the Kubernetes cluster, service accounts, and encryption key management.

* Include addons for the Kubernetes cluster such as CoreDNS, VPC CNI, kube-proxy, and more with conflict resolution strategies.

* Provide detailed storage class configurations, including default classes and custom classes with parameters like encryption and volume binding modes.

* Set up monitoring, logging, and autoscaling using Helm charts with configurable repository, chart versions, and values.

* Provide means for adding custom configurations to the Kubernetes cluster, such as custom Helm charts, manifests, and scripts.

## Core concepts

* [What is EKS?](https://docs.aws.amazon.com/eks/index.html);

* [What is Kubernetes?](https://kubernetes.io/docs/home/);

* [What is a Networking Spoke?](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/ready/azure-best-practices/hub-spoke-network-topology);

* [What are the IAM Roles for Service Accounts, as known as IRSA?](https://docs.aws.amazon.com/emr/latest/EMR-on-EKS-DevelopmentGuide/setting-up-enable-IAM.html);

* [How to choose the best EC2 instance type for Kubernetes workers in EKS?](https://docs.aws.amazon.com/eks/latest/userguide/choosing-instance-type.html).

## Repository organization

* [examples](./examples): this folder contains ready to use examples that show how to use this Module;

* [tests](./test): this folder contains a list of automated tests for this Module and examples;

* [lib](./lib): this folder contains a list of local utilities, mostly Makefiles, to support the
  contributor's maintenance effort of this Module;

* [modules](./modules): this folder contains a list of local Terraform modules that the Root Module uses;

* [.github](./.github): this folder contains a list of GitHub workflows to support contributions
  during change requests and releases of this Module.

## Usage guides

Refer to this [page](./docs/GUIDES.md) for details in regard to cluster services usage instructions.

## Contribution guides

Refer to this [page](./CONTRIBUTING.md) for details in regard to contribution instructions.

## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) | >= 1.3 |
| <a name="requirement_aws"></a> [aws](#requirement\_aws) | >= 5.20 |
| <a name="requirement_helm"></a> [helm](#requirement\_helm) | 2.7.0 |
| <a name="requirement_kubectl"></a> [kubectl](#requirement\_kubectl) | >= 1.7.0 |
| <a name="requirement_kubernetes"></a> [kubernetes](#requirement\_kubernetes) | >= 2.26.0 |
## Providers

| Name | Version |
|------|---------|
| <a name="provider_aws"></a> [aws](#provider\_aws) | >= 5.20 |
| <a name="provider_kubectl"></a> [kubectl](#provider\_kubectl) | >= 1.7.0 |
| <a name="provider_kubernetes"></a> [kubernetes](#provider\_kubernetes) | >= 2.26.0 |
| <a name="provider_null"></a> [null](#provider\_null) | n/a |
| <a name="provider_random"></a> [random](#provider\_random) | n/a |
## Resources

| Name | Type |
|------|------|
| [aws_eks_addon.ebs_csi_driver](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/eks_addon) | resource |
| [aws_eks_addon.efs_csi_driver](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/eks_addon) | resource |
| [aws_ssm_parameter.grafana_admin_password](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/ssm_parameter) | resource |
| [aws_ssm_parameter.grafana_admin_username](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/ssm_parameter) | resource |
| [kubectl_manifest.default_ec2_node_class](https://registry.terraform.io/providers/gavinbunney/kubectl/latest/docs/resources/manifest) | resource |
| [kubectl_manifest.default_node_pool](https://registry.terraform.io/providers/gavinbunney/kubectl/latest/docs/resources/manifest) | resource |
| [null_resource.wait_for_kubernetes_api_be_active](https://registry.terraform.io/providers/hashicorp/null/latest/docs/resources/resource) | resource |
| [random_password.grafana_admin](https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/password) | resource |
| [random_pet.grafana_admin](https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/pet) | resource |
| [aws_availability_zones.available](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/availability_zones) | data source |
| [aws_caller_identity.current](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/caller_identity) | data source |
| [aws_eks_cluster.this_cluster](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/eks_cluster) | data source |
| [aws_eks_cluster_auth.this_cluster](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/eks_cluster_auth) | data source |
| [aws_iam_role.current](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/iam_role) | data source |
| [kubernetes_service_v1.kube_private_ingress_svc_url](https://registry.terraform.io/providers/hashicorp/kubernetes/latest/docs/data-sources/service_v1) | data source |
| [kubernetes_service_v1.kube_public_ingress_svc_url](https://registry.terraform.io/providers/hashicorp/kubernetes/latest/docs/data-sources/service_v1) | data source |
## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_cluster_access_management"></a> [cluster\_access\_management](#input\_cluster\_access\_management) | The access management configuration for the Kubernetes cluster | <pre>object({<br>    enable_cluster_creator_admin_permissions = optional(bool)<br>    list                                     = optional(map(any))<br>  })</pre> | <pre>{<br>  "enable_cluster_creator_admin_permissions": false,<br>  "list": {}<br>}</pre> | no |
| <a name="input_cluster_additional_apps"></a> [cluster\_additional\_apps](#input\_cluster\_additional\_apps) | List of additional apps packaged as Helm Charts to deploy in the Kubernetes cluster. | <pre>list(object({<br>    namespace  = string<br>    repository = string<br>    repository_config = optional(object({<br>      repository_key_file  = optional(string)<br>      repository_cert_file = optional(string)<br>      repository_ca_file   = optional(string)<br>      repository_username  = optional(string)<br>      repository_password  = optional(string)<br>    }))<br>    app = object({<br>      name                       = string<br>      chart                      = string<br>      version                    = string<br>      force_update               = optional(bool)<br>      wait                       = optional(bool)<br>      recreate_pods              = optional(bool)<br>      max_history                = optional(number)<br>      lint                       = optional(bool)<br>      cleanup_on_fail            = optional(bool)<br>      create_namespace           = optional(bool)<br>      disable_webhooks           = optional(bool)<br>      verify                     = optional(bool)<br>      reuse_values               = optional(bool)<br>      reset_values               = optional(bool)<br>      atomic                     = optional(bool)<br>      skip_crds                  = optional(bool)<br>      render_subchart_notes      = optional(bool)<br>      disable_openapi_validation = optional(bool)<br>      wait_for_jobs              = optional(bool)<br>      dependency_update          = optional(bool)<br>      replace                    = optional(bool)<br>    })<br>    values = optional(any)<br>    params = optional(list(object({<br>      name  = string<br>      value = any<br>    })))<br>    secrets = optional(list(object({<br>      name  = string<br>      value = any<br>    })))<br>  }))</pre> | `[]` | no |
| <a name="input_cluster_additional_apps_create"></a> [cluster\_additional\_apps\_create](#input\_cluster\_additional\_apps\_create) | Whether to create additional apps in the Kubernetes cluster | `bool` | `false` | no |
| <a name="input_cluster_additional_identity_providers"></a> [cluster\_additional\_identity\_providers](#input\_cluster\_additional\_identity\_providers) | The additional identity providers configuration for the Kubernetes cluster | `any` | `{}` | no |
| <a name="input_cluster_addons_additional"></a> [cluster\_addons\_additional](#input\_cluster\_addons\_additional) | The additional addons configuration for the Kubernetes cluster | `any` | `{}` | no |
| <a name="input_cluster_addons_default"></a> [cluster\_addons\_default](#input\_cluster\_addons\_default) | The addons configuration for the Kubernetes cluster | `any` | <pre>{<br>  "coredns": {<br>    "resolve_conflicts_on_create": "OVERWRITE",<br>    "resolve_conflicts_on_update": "OVERWRITE"<br>  },<br>  "eks-pod-identity-agent": {<br>    "resolve_conflicts_on_create": "OVERWRITE",<br>    "resolve_conflicts_on_update": "OVERWRITE"<br>  },<br>  "kube-proxy": {<br>    "resolve_conflicts_on_create": "OVERWRITE",<br>    "resolve_conflicts_on_update": "OVERWRITE"<br>  },<br>  "snapshot-controller": {<br>    "resolve_conflicts_on_create": "OVERWRITE",<br>    "resolve_conflicts_on_update": "OVERWRITE"<br>  },<br>  "vpc-cni": {<br>    "before_compute": true,<br>    "resolve_conflicts_on_create": "OVERWRITE",<br>    "resolve_conflicts_on_update": "OVERWRITE"<br>  }<br>}</pre> | no |
| <a name="input_cluster_addons_timeouts"></a> [cluster\_addons\_timeouts](#input\_cluster\_addons\_timeouts) | The waiting timeouts configuration for the Kubernetes cluster addons | <pre>object({<br>    create = optional(string)<br>    update = optional(string)<br>    delete = optional(string)<br>  })</pre> | `{}` | no |
| <a name="input_cluster_authentication_mode"></a> [cluster\_authentication\_mode](#input\_cluster\_authentication\_mode) | The authentication mode for the Kubernetes cluster | `string` | `"API_AND_CONFIG_MAP"` | no |
| <a name="input_cluster_autoscaler"></a> [cluster\_autoscaler](#input\_cluster\_autoscaler) | The cluster autoscaler configuration for the Kubernetes cluster | <pre>object({<br>    helm_chart_repository        = string<br>    helm_chart_repository_config = optional(string)<br>    helm_chart_version           = string<br>    helm_chart_name              = optional(string)<br>    helm_chart_params = optional(list(object({<br>      name  = string<br>      value = any<br>    })))<br>    helm_chart_secrets = optional(list(object({<br>      name  = string<br>      value = any<br>    })))<br>    helm_chart_values = optional(string)<br>  })</pre> | <pre>{<br>  "helm_chart_name": "kube-karpenter",<br>  "helm_chart_params": [],<br>  "helm_chart_repository": "oci://public.registry.jetbrains.space/p/helm/library",<br>  "helm_chart_repository_config": null,<br>  "helm_chart_secrets": [],<br>  "helm_chart_values": null,<br>  "helm_chart_version": "0.35.1"<br>}</pre> | no |
| <a name="input_cluster_autoscaler_create"></a> [cluster\_autoscaler\_create](#input\_cluster\_autoscaler\_create) | Whether to create the cluster autoscaler for the Kubernetes cluster | `bool` | `true` | no |
| <a name="input_cluster_autoscaler_subnet_selector"></a> [cluster\_autoscaler\_subnet\_selector](#input\_cluster\_autoscaler\_subnet\_selector) | The subnet selector for the cluster autoscaler | `string` | `null` | no |
| <a name="input_cluster_cloudwatch_logging"></a> [cluster\_cloudwatch\_logging](#input\_cluster\_cloudwatch\_logging) | The logging configuration for the Kubernetes cluster | <pre>object({<br>    enabled                     = optional(bool)<br>    log_types                   = optional(list(string))<br>    log_group_retention_in_days = optional(number)<br>    log_group_kms_key_id        = optional(string)<br>    log_group_class             = optional(string)<br>    log_group_tags              = optional(map(string))<br>  })</pre> | <pre>{<br>  "enabled": true,<br>  "log_group_class": null,<br>  "log_group_kms_key_id": null,<br>  "log_group_retention_in_days": 7,<br>  "log_group_tags": {},<br>  "log_types": [<br>    "api",<br>    "audit",<br>    "authenticator",<br>    "controllerManager",<br>    "scheduler"<br>  ]<br>}</pre> | no |
| <a name="input_cluster_compute_pool_aws_managed"></a> [cluster\_compute\_pool\_aws\_managed](#input\_cluster\_compute\_pool\_aws\_managed) | The AWS managed compute pool configuration for the Kubernetes cluster | <pre>object({<br>    defaults = optional(any)<br>    groups   = any<br>  })</pre> | <pre>{<br>  "defaults": {},<br>  "groups": {<br>    "main": {<br>      "capacity_type": "ON_DEMAND",<br>      "desired_size": 2,<br>      "disk_size": 100,<br>      "instance_types": [<br>        "t3a.2xlarge"<br>      ],<br>      "labels": {<br>        "node-type": "main"<br>      },<br>      "max_size": 2,<br>      "min_size": 2,<br>      "update_config": {<br>        "max_unavailable_percentage": 30<br>      },<br>      "use_custom_launch_template": false<br>    },<br>    "spot": {<br>      "capacity_type": "SPOT",<br>      "desired_size": 3,<br>      "disk_size": 100,<br>      "instance_types": [<br>        "t3a.2xlarge",<br>        "m5a.2xlarge",<br>        "c5a.2xlarge",<br>        "r5a.2xlarge",<br>        "t3a.large"<br>      ],<br>      "labels": {<br>        "node-type": "spot"<br>      },<br>      "max_size": 3,<br>      "min_size": 3,<br>      "update_config": {<br>        "max_unavailable_percentage": 30<br>      },<br>      "use_custom_launch_template": false<br>    }<br>  }<br>}</pre> | no |
| <a name="input_cluster_compute_pool_fargate"></a> [cluster\_compute\_pool\_fargate](#input\_cluster\_compute\_pool\_fargate) | The Fargate compute pool configuration for the Kubernetes cluster | <pre>object({<br>    defaults = optional(any)<br>    groups   = any<br>  })</pre> | <pre>{<br>  "defaults": {},<br>  "groups": {}<br>}</pre> | no |
| <a name="input_cluster_compute_pool_self_managed"></a> [cluster\_compute\_pool\_self\_managed](#input\_cluster\_compute\_pool\_self\_managed) | The self managed compute pool configuration for the Kubernetes cluster | <pre>object({<br>    defaults = optional(any)<br>    groups   = any<br>  })</pre> | <pre>{<br>  "defaults": {},<br>  "groups": {}<br>}</pre> | no |
| <a name="input_cluster_custom_storage_classes"></a> [cluster\_custom\_storage\_classes](#input\_cluster\_custom\_storage\_classes) | Custom storage class objects for the current Kubernetes cluster that can be created in addition of as a substitution for the ones defined in the cluster\_default\_storage\_storage\_classes variable | <pre>map(object({<br>    name                   = optional(string)<br>    annotations            = optional(any)<br>    reclaim_policy         = optional(string)<br>    volume_binding_mode    = optional(string)<br>    allow_volume_expansion = optional(bool)<br>    storage_provisioner    = optional(string)<br>    parameters             = optional(any)<br>  }))</pre> | `{}` | no |
| <a name="input_cluster_database_encryption_config"></a> [cluster\_database\_encryption\_config](#input\_cluster\_database\_encryption\_config) | The encryption configuration for the Kubernetes cluster | <pre>object({<br>    provider_key_arn = optional(string)<br>    resources        = optional(list(string))<br>  })</pre> | <pre>{<br>  "provider_key_arn": null,<br>  "resources": [<br>    "secrets"<br>  ]<br>}</pre> | no |
| <a name="input_cluster_default_storage_storage_classes"></a> [cluster\_default\_storage\_storage\_classes](#input\_cluster\_default\_storage\_storage\_classes) | The default standard storage class type for the current Kubernetes cluster | <pre>map(object({<br>    name                   = optional(string)<br>    annotations            = optional(any)<br>    reclaim_policy         = optional(string)<br>    volume_binding_mode    = optional(string)<br>    allow_volume_expansion = optional(bool)<br>    parameters             = optional(any)<br>  }))</pre> | <pre>{<br>  "golden": {<br>    "allow_volume_expansion": true,<br>    "annotations": {<br>      "storageclass.kubernetes.io/is-default-class": "false"<br>    },<br>    "name": "golden",<br>    "parameters": {<br>      "allowAutoIOPSPerGBIncrease": true,<br>      "csi.storage.k8s.io/fstype": "ext3",<br>      "encrypted": true,<br>      "type": "io1"<br>    },<br>    "reclaim_policy": "Retain",<br>    "volume_binding_mode": "WaitForFirstConsumer"<br>  },<br>  "platinum": {<br>    "allow_volume_expansion": true,<br>    "annotations": {<br>      "storageclass.kubernetes.io/is-default-class": "false"<br>    },<br>    "name": "platinum",<br>    "parameters": {<br>      "allowAutoIOPSPerGBIncrease": true,<br>      "csi.storage.k8s.io/fstype": "xfs",<br>      "encrypted": true,<br>      "type": "io2"<br>    },<br>    "reclaim_policy": "Retain",<br>    "volume_binding_mode": "WaitForFirstConsumer"<br>  },<br>  "standard": {<br>    "allow_volume_expansion": true,<br>    "annotations": {<br>      "storageclass.kubernetes.io/is-default-class": "true"<br>    },<br>    "name": "standard",<br>    "parameters": {<br>      "allowAutoIOPSPerGBIncrease": true,<br>      "csi.storage.k8s.io/fstype": "ext3",<br>      "encrypted": true,<br>      "type": "gp3"<br>    },<br>    "reclaim_policy": "Retain",<br>    "volume_binding_mode": "WaitForFirstConsumer"<br>  }<br>}</pre> | no |
| <a name="input_cluster_descheduler"></a> [cluster\_descheduler](#input\_cluster\_descheduler) | The descheduler configuration for the Kubernetes cluster | <pre>object({<br>    helm_chart_repository        = optional(string)<br>    helm_chart_repository_config = optional(string)<br>    helm_chart_version           = optional(string)<br>    helm_chart_name              = optional(string)<br>    helm_chart_params = optional(list(object({<br>      name  = string<br>      value = any<br>    })))<br>    helm_chart_secrets = optional(list(object({<br>      name  = string<br>      value = any<br>    })))<br>    helm_chart_values = optional(string)<br>  })</pre> | <pre>{<br>  "helm_chart_name": "kube-descheduler",<br>  "helm_chart_params": [],<br>  "helm_chart_repository": "oci://public.registry.jetbrains.space/p/helm/library",<br>  "helm_chart_repository_config": null,<br>  "helm_chart_secrets": [],<br>  "helm_chart_values": null,<br>  "helm_chart_version": "0.29.0"<br>}</pre> | no |
| <a name="input_cluster_descheduler_create"></a> [cluster\_descheduler\_create](#input\_cluster\_descheduler\_create) | Whether to create the descheduler for the Kubernetes cluster | `bool` | `true` | no |
| <a name="input_cluster_enabled"></a> [cluster\_enabled](#input\_cluster\_enabled) | Whether to create the Kubernetes cluster | `bool` | `true` | no |
| <a name="input_cluster_encryption_policy"></a> [cluster\_encryption\_policy](#input\_cluster\_encryption\_policy) | The encryption policy for the Kubernetes cluster | <pre>object({<br>    attach_default  = optional(bool)<br>    use_name_prefix = optional(bool)<br>    name            = optional(string)<br>    description     = optional(string)<br>    path            = optional(string)<br>    tags            = optional(map(string))<br>  })</pre> | <pre>{<br>  "attach_default": true,<br>  "description": "Cluster encryption policy to allow cluster role to utilize CMK provided",<br>  "name": null,<br>  "path": null,<br>  "tags": {},<br>  "use_name_prefix": true<br>}</pre> | no |
| <a name="input_cluster_iam"></a> [cluster\_iam](#input\_cluster\_iam) | The IAM role configuration for the Kubernetes cluster | <pre>object({<br>    create_default_role       = optional(bool)<br>    role_arn                  = optional(string)<br>    role_name                 = optional(string)<br>    role_use_name_prefix      = optional(bool)<br>    role_path                 = optional(string)<br>    role_description          = optional(string)<br>    role_permissions_boundary = optional(string)<br>    role_additional_policies  = optional(map(string))<br>    role_tags                 = optional(map(string))<br>  })</pre> | <pre>{<br>  "create_default_role": true,<br>  "role_additional_policies": {},<br>  "role_arn": null,<br>  "role_description": null,<br>  "role_name": null,<br>  "role_path": null,<br>  "role_permissions_boundary": null,<br>  "role_tags": {},<br>  "role_use_name_prefix": true<br>}</pre> | no |
| <a name="input_cluster_iam_role_for_service_account"></a> [cluster\_iam\_role\_for\_service\_account](#input\_cluster\_iam\_role\_for\_service\_account) | The IAM role configuration for the Kubernetes cluster service account | <pre>object({<br>    enabled                         = optional(bool)<br>    include_oidc_root_ca_thumbprint = optional(bool)<br>    openid_connect_audiences        = optional(list(string))<br>    custom_oidc_thumbprints         = optional(list(string))<br>  })</pre> | <pre>{<br>  "custom_oidc_thumbprints": [],<br>  "enabled": true,<br>  "include_oidc_root_ca_thumbprint": true,<br>  "openid_connect_audiences": []<br>}</pre> | no |
| <a name="input_cluster_kms"></a> [cluster\_kms](#input\_cluster\_kms) | The KMS configuration for the Kubernetes cluster | <pre>object({<br>    enabled                       = optional(bool)<br>    key_description               = optional(string)<br>    key_deletion_window_in_days   = optional(string)<br>    enable_key_rotation           = optional(bool)<br>    key_enable_default_policy     = optional(bool)<br>    key_owners                    = optional(list(string))<br>    key_administrators            = optional(list(string))<br>    key_users                     = optional(list(string))<br>    key_service_users             = optional(list(string))<br>    key_source_policy_documents   = optional(list(string))<br>    key_override_policy_documents = optional(list(string))<br>    key_aliases                   = optional(list(string))<br>  })</pre> | <pre>{<br>  "enable_key_rotation": true,<br>  "enabled": true,<br>  "key_administrators": [],<br>  "key_aliases": [],<br>  "key_deletion_window_in_days": 30,<br>  "key_description": null,<br>  "key_enable_default_policy": true,<br>  "key_override_policy_documents": [],<br>  "key_owners": [],<br>  "key_service_users": [],<br>  "key_source_policy_documents": [],<br>  "key_users": []<br>}</pre> | no |
| <a name="input_cluster_logging"></a> [cluster\_logging](#input\_cluster\_logging) | The cluster logging configuration for the Kubernetes cluster | <pre>object({<br>    helm_chart_repository          = optional(string)<br>    helm_chart_repository_config   = optional(string)<br>    helm_chart_version             = optional(string)<br>    helm_chart_name                = optional(string)<br>    helm_chart_namespace           = optional(string)<br>    create_namespace_if_not_exists = optional(bool)<br>    helm_chart_params = optional(list(object({<br>      name  = string<br>      value = any<br>    })))<br>    helm_chart_secrets = optional(list(object({<br>      name  = string<br>      value = any<br>    })))<br>    helm_chart_values = optional(string)<br>  })</pre> | <pre>{<br>  "create_namespace_if_not_exists": true,<br>  "helm_chart_name": "kube-grafana-loki",<br>  "helm_chart_namespace": "kube-monitoring",<br>  "helm_chart_params": [],<br>  "helm_chart_repository": "oci://public.registry.jetbrains.space/p/helm/library",<br>  "helm_chart_repository_config": null,<br>  "helm_chart_secrets": [],<br>  "helm_chart_values": null,<br>  "helm_chart_version": "5.43.3"<br>}</pre> | no |
| <a name="input_cluster_logging_collector"></a> [cluster\_logging\_collector](#input\_cluster\_logging\_collector) | The cluster logging collector configuration for the Kubernetes cluster | <pre>object({<br>    helm_chart_repository          = optional(string)<br>    helm_chart_repository_config   = optional(string)<br>    helm_chart_version             = optional(string)<br>    helm_chart_name                = optional(string)<br>    helm_chart_namespace           = optional(string)<br>    create_namespace_if_not_exists = optional(bool)<br>    helm_chart_params = optional(list(object({<br>      name  = string<br>      value = any<br>    })))<br>    helm_chart_secrets = optional(list(object({<br>      name  = string<br>      value = any<br>    })))<br>    helm_chart_values = optional(string)<br>  })</pre> | <pre>{<br>  "create_namespace_if_not_exists": true,<br>  "helm_chart_name": "kube-grafana-promtail",<br>  "helm_chart_namespace": "kube-monitoring",<br>  "helm_chart_params": [],<br>  "helm_chart_repository": "oci://public.registry.jetbrains.space/p/helm/library",<br>  "helm_chart_repository_config": null,<br>  "helm_chart_secrets": [],<br>  "helm_chart_values": null,<br>  "helm_chart_version": "6.15.5"<br>}</pre> | no |
| <a name="input_cluster_logging_create"></a> [cluster\_logging\_create](#input\_cluster\_logging\_create) | Whether to create the cluster logging service for the Kubernetes cluster | `bool` | `true` | no |
| <a name="input_cluster_metrics_server"></a> [cluster\_metrics\_server](#input\_cluster\_metrics\_server) | The metrics server configuration for the Kubernetes cluster | <pre>object({<br>    helm_chart_repository          = optional(string)<br>    helm_chart_repository_config   = optional(string)<br>    helm_chart_version             = optional(string)<br>    helm_chart_name                = optional(string)<br>    helm_chart_namespace           = optional(string)<br>    create_namespace_if_not_exists = optional(bool)<br>    helm_chart_params = optional(list(object({<br>      name  = string<br>      value = any<br>    })))<br>    helm_chart_secrets = optional(list(object({<br>      name  = string<br>      value = any<br>    })))<br>    helm_chart_values = optional(string)<br>  })</pre> | <pre>{<br>  "create_namespace_if_not_exists": true,<br>  "helm_chart_name": "kube-metrics-server",<br>  "helm_chart_namespace": "kube-monitoring",<br>  "helm_chart_params": [],<br>  "helm_chart_repository": "oci://public.registry.jetbrains.space/p/helm/library",<br>  "helm_chart_repository_config": null,<br>  "helm_chart_secrets": [],<br>  "helm_chart_values": null,<br>  "helm_chart_version": "3.12.0"<br>}</pre> | no |
| <a name="input_cluster_metrics_server_create"></a> [cluster\_metrics\_server\_create](#input\_cluster\_metrics\_server\_create) | Whether to create the cluster metrics server for the Kubernetes cluster | `bool` | `true` | no |
| <a name="input_cluster_monitoring"></a> [cluster\_monitoring](#input\_cluster\_monitoring) | The monitoring configuration for the Kubernetes cluster | <pre>object({<br>    helm_chart_repository          = optional(string)<br>    helm_chart_repository_config   = optional(string)<br>    helm_chart_version             = optional(string)<br>    helm_chart_name                = optional(string)<br>    helm_chart_namespace           = optional(string)<br>    create_namespace_if_not_exists = optional(bool)<br>    helm_chart_params = optional(list(object({<br>      name  = string<br>      value = any<br>    })))<br>    helm_chart_secrets = optional(list(object({<br>      name  = string<br>      value = any<br>    })))<br>    helm_chart_values = optional(string)<br>  })</pre> | <pre>{<br>  "create_namespace_if_not_exists": true,<br>  "helm_chart_name": "kube-prometheus-operator",<br>  "helm_chart_namespace": "kube-monitoring",<br>  "helm_chart_params": [],<br>  "helm_chart_repository": "oci://public.registry.jetbrains.space/p/helm/library",<br>  "helm_chart_repository_config": null,<br>  "helm_chart_secrets": [],<br>  "helm_chart_values": null,<br>  "helm_chart_version": "56.21.1"<br>}</pre> | no |
| <a name="input_cluster_monitoring_create"></a> [cluster\_monitoring\_create](#input\_cluster\_monitoring\_create) | Whether to create the monitoring for the Kubernetes cluster | `bool` | `true` | no |
| <a name="input_cluster_network_external_control_plane_subnet_ids"></a> [cluster\_network\_external\_control\_plane\_subnet\_ids](#input\_cluster\_network\_external\_control\_plane\_subnet\_ids) | The IDs of the subnets to use for the control plane in the external network | `list(string)` | `null` | no |
| <a name="input_cluster_network_external_node_subnet_ids"></a> [cluster\_network\_external\_node\_subnet\_ids](#input\_cluster\_network\_external\_node\_subnet\_ids) | The IDs of the subnets to use for the nodes in the external network | `list(string)` | `null` | no |
| <a name="input_cluster_network_external_vpc_id"></a> [cluster\_network\_external\_vpc\_id](#input\_cluster\_network\_external\_vpc\_id) | The ID of the VPC to use for the external network | `string` | `null` | no |
| <a name="input_cluster_network_internal_public_ingress_subnets_subnets_acls"></a> [cluster\_network\_internal\_public\_ingress\_subnets\_subnets\_acls](#input\_cluster\_network\_internal\_public\_ingress\_subnets\_subnets\_acls) | The ACLs configuration for the public subnets in the internal VPC | <pre>object({<br>    enabled = bool<br>    inbound_rules = optional(list(object({<br>      rule_number = number<br>      rule_action = string<br>      from_port   = number<br>      to_port     = number<br>      protocol    = optional(string)<br>      cidr_block  = string<br>    })))<br>    outbound_rules = optional(list(object({<br>      rule_number = number<br>      rule_action = string<br>      from_port   = number<br>      to_port     = number<br>      protocol    = optional(string)<br>      cidr_block  = string<br>    })))<br>  })</pre> | <pre>{<br>  "enabled": false,<br>  "inbound_rules": [<br>    {<br>      "cidr_block": "0.0.0.0/0",<br>      "from_port": 0,<br>      "protocol": "-1",<br>      "rule_action": "allow",<br>      "rule_number": 100,<br>      "to_port": 0<br>    }<br>  ],<br>  "outbound_rules": [<br>    {<br>      "cidr_block": "0.0.0.0/0",<br>      "from_port": 0,<br>      "protocol": "-1",<br>      "rule_action": "allow",<br>      "rule_number": 100,<br>      "to_port": 0<br>    }<br>  ]<br>}</pre> | no |
| <a name="input_cluster_network_internal_public_ingress_subnets_subnets_addresses"></a> [cluster\_network\_internal\_public\_ingress\_subnets\_subnets\_addresses](#input\_cluster\_network\_internal\_public\_ingress\_subnets\_subnets\_addresses) | The CIDR blocks to use for the public subnets in the internal VPC | `list(string)` | <pre>[<br>  "10.0.0.0/24",<br>  "10.0.1.0/24",<br>  "10.0.2.0/24"<br>]</pre> | no |
| <a name="input_cluster_network_internal_public_ingress_subnets_subnets_assign_ipv6_address_on_creation"></a> [cluster\_network\_internal\_public\_ingress\_subnets\_subnets\_assign\_ipv6\_address\_on\_creation](#input\_cluster\_network\_internal\_public\_ingress\_subnets\_subnets\_assign\_ipv6\_address\_on\_creation) | Whether to assign an IPv6 address to the public subnets in the internal VPC | `bool` | `false` | no |
| <a name="input_cluster_network_internal_public_ingress_subnets_subnets_enable_dns64"></a> [cluster\_network\_internal\_public\_ingress\_subnets\_subnets\_enable\_dns64](#input\_cluster\_network\_internal\_public\_ingress\_subnets\_subnets\_enable\_dns64) | Whether to enable DNS64 for the public subnets in the internal VPC | `bool` | `true` | no |
| <a name="input_cluster_network_internal_public_ingress_subnets_subnets_enable_resource_name_dns_a_record_on_launch"></a> [cluster\_network\_internal\_public\_ingress\_subnets\_subnets\_enable\_resource\_name\_dns\_a\_record\_on\_launch](#input\_cluster\_network\_internal\_public\_ingress\_subnets\_subnets\_enable\_resource\_name\_dns\_a\_record\_on\_launch) | Whether to enable resource name DNS A record on launch for the public subnets in the internal VPC | `bool` | `false` | no |
| <a name="input_cluster_network_internal_public_ingress_subnets_subnets_enable_resource_name_dns_aaaa_record_on_launch"></a> [cluster\_network\_internal\_public\_ingress\_subnets\_subnets\_enable\_resource\_name\_dns\_aaaa\_record\_on\_launch](#input\_cluster\_network\_internal\_public\_ingress\_subnets\_subnets\_enable\_resource\_name\_dns\_aaaa\_record\_on\_launch) | Whether to enable resource name DNS AAAA record on launch for the public subnets in the internal VPC | `bool` | `true` | no |
| <a name="input_cluster_network_internal_public_ingress_subnets_subnets_ipv6_native"></a> [cluster\_network\_internal\_public\_ingress\_subnets\_subnets\_ipv6\_native](#input\_cluster\_network\_internal\_public\_ingress\_subnets\_subnets\_ipv6\_native) | Whether to enable IPv6 native for the public subnets in the internal VPC | `bool` | `false` | no |
| <a name="input_cluster_network_internal_public_ingress_subnets_subnets_ipv6_prefixes"></a> [cluster\_network\_internal\_public\_ingress\_subnets\_subnets\_ipv6\_prefixes](#input\_cluster\_network\_internal\_public\_ingress\_subnets\_subnets\_ipv6\_prefixes) | The IPv6 prefixes to use for the public subnets in the internal VPC | `list(string)` | `[]` | no |
| <a name="input_cluster_network_internal_public_ingress_subnets_subnets_map_public_ip_on_launch"></a> [cluster\_network\_internal\_public\_ingress\_subnets\_subnets\_map\_public\_ip\_on\_launch](#input\_cluster\_network\_internal\_public\_ingress\_subnets\_subnets\_map\_public\_ip\_on\_launch) | Whether to map public IP on launch for the public subnets in the internal VPC | `bool` | `false` | no |
| <a name="input_cluster_network_internal_public_ingress_subnets_subnets_private_dns_hostname_type_on_launch"></a> [cluster\_network\_internal\_public\_ingress\_subnets\_subnets\_private\_dns\_hostname\_type\_on\_launch](#input\_cluster\_network\_internal\_public\_ingress\_subnets\_subnets\_private\_dns\_hostname\_type\_on\_launch) | The private DNS hostname type on launch for the public subnets in the internal VPC | `string` | `null` | no |
| <a name="input_cluster_network_internal_public_ingress_subnets_subnets_tags"></a> [cluster\_network\_internal\_public\_ingress\_subnets\_subnets\_tags](#input\_cluster\_network\_internal\_public\_ingress\_subnets\_subnets\_tags) | The tags configuration for the public subnets in the internal VPC | <pre>object({<br>    tags               = optional(map(string))<br>    route_table_tags   = optional(map(string))<br>    subnet_tags_per_az = optional(map(map(string)))<br>    acl_tags           = optional(map(string))<br>  })</pre> | <pre>{<br>  "acl_tags": {},<br>  "route_table_tags": {},<br>  "subnet_tags_per_az": {},<br>  "tags": {}<br>}</pre> | no |
| <a name="input_cluster_network_internal_vpc_availability_zones_number"></a> [cluster\_network\_internal\_vpc\_availability\_zones\_number](#input\_cluster\_network\_internal\_vpc\_availability\_zones\_number) | The number of availability zones to use for the internal VPC | `number` | `2` | no |
| <a name="input_cluster_network_internal_vpc_cidr"></a> [cluster\_network\_internal\_vpc\_cidr](#input\_cluster\_network\_internal\_vpc\_cidr) | The CIDR block to use for the internal VPC | `string` | `"10.0.0.0/16"` | no |
| <a name="input_cluster_network_internal_vpc_data_subnets_acls"></a> [cluster\_network\_internal\_vpc\_data\_subnets\_acls](#input\_cluster\_network\_internal\_vpc\_data\_subnets\_acls) | The ACLs configuration for the data subnets in the internal VPC | <pre>object({<br>    enabled = bool<br>    inbound_rules = optional(list(object({<br>      rule_number = number<br>      rule_action = string<br>      from_port   = number<br>      to_port     = number<br>      protocol    = optional(string)<br>      cidr_block  = string<br>    })))<br>    outbound_rules = optional(list(object({<br>      rule_number = number<br>      rule_action = string<br>      from_port   = number<br>      to_port     = number<br>      protocol    = optional(string)<br>      cidr_block  = string<br>    })))<br>  })</pre> | <pre>{<br>  "enabled": false,<br>  "inbound_rules": [<br>    {<br>      "cidr_block": "0.0.0.0/0",<br>      "from_port": 0,<br>      "protocol": "-1",<br>      "rule_action": "allow",<br>      "rule_number": 100,<br>      "to_port": 0<br>    }<br>  ],<br>  "outbound_rules": [<br>    {<br>      "cidr_block": "0.0.0.0/0",<br>      "from_port": 0,<br>      "protocol": "-1",<br>      "rule_action": "allow",<br>      "rule_number": 100,<br>      "to_port": 0<br>    }<br>  ]<br>}</pre> | no |
| <a name="input_cluster_network_internal_vpc_data_subnets_addresses"></a> [cluster\_network\_internal\_vpc\_data\_subnets\_addresses](#input\_cluster\_network\_internal\_vpc\_data\_subnets\_addresses) | The CIDR blocks to use for the data subnets in the internal VPC | `list(string)` | <pre>[<br>  "10.0.224.0/24",<br>  "10.0.225.0/24",<br>  "10.0.226.0/24"<br>]</pre> | no |
| <a name="input_cluster_network_internal_vpc_data_subnets_assign_ipv6_address_on_creation"></a> [cluster\_network\_internal\_vpc\_data\_subnets\_assign\_ipv6\_address\_on\_creation](#input\_cluster\_network\_internal\_vpc\_data\_subnets\_assign\_ipv6\_address\_on\_creation) | Whether to assign an IPv6 address to the data subnets in the internal VPC | `bool` | `false` | no |
| <a name="input_cluster_network_internal_vpc_data_subnets_dns_hostname_type_on_launch"></a> [cluster\_network\_internal\_vpc\_data\_subnets\_dns\_hostname\_type\_on\_launch](#input\_cluster\_network\_internal\_vpc\_data\_subnets\_dns\_hostname\_type\_on\_launch) | The DNS hostname type on launch for the data subnets in the internal VPC | `string` | `null` | no |
| <a name="input_cluster_network_internal_vpc_data_subnets_enable_dns64"></a> [cluster\_network\_internal\_vpc\_data\_subnets\_enable\_dns64](#input\_cluster\_network\_internal\_vpc\_data\_subnets\_enable\_dns64) | Whether to enable DNS64 for the data subnets in the internal VPC | `bool` | `true` | no |
| <a name="input_cluster_network_internal_vpc_data_subnets_enable_resource_name_dns_a_record_on_launch"></a> [cluster\_network\_internal\_vpc\_data\_subnets\_enable\_resource\_name\_dns\_a\_record\_on\_launch](#input\_cluster\_network\_internal\_vpc\_data\_subnets\_enable\_resource\_name\_dns\_a\_record\_on\_launch) | Whether to enable resource name DNS A record on launch for the data subnets in the internal VPC | `bool` | `false` | no |
| <a name="input_cluster_network_internal_vpc_data_subnets_enable_resource_name_dns_aaaa_record_on_launch"></a> [cluster\_network\_internal\_vpc\_data\_subnets\_enable\_resource\_name\_dns\_aaaa\_record\_on\_launch](#input\_cluster\_network\_internal\_vpc\_data\_subnets\_enable\_resource\_name\_dns\_aaaa\_record\_on\_launch) | Whether to enable resource name DNS AAAA record on launch for the data subnets in the internal VPC | `bool` | `true` | no |
| <a name="input_cluster_network_internal_vpc_data_subnets_ipv6_native"></a> [cluster\_network\_internal\_vpc\_data\_subnets\_ipv6\_native](#input\_cluster\_network\_internal\_vpc\_data\_subnets\_ipv6\_native) | Whether to enable IPv6 native for the data subnets in the internal VPC | `bool` | `false` | no |
| <a name="input_cluster_network_internal_vpc_data_subnets_ipv6_prefixes"></a> [cluster\_network\_internal\_vpc\_data\_subnets\_ipv6\_prefixes](#input\_cluster\_network\_internal\_vpc\_data\_subnets\_ipv6\_prefixes) | The IPv6 prefixes to use for the data subnets in the internal VPC | `list(string)` | `[]` | no |
| <a name="input_cluster_network_internal_vpc_data_subnets_tags"></a> [cluster\_network\_internal\_vpc\_data\_subnets\_tags](#input\_cluster\_network\_internal\_vpc\_data\_subnets\_tags) | The tags configuration for the data subnets in the internal VPC | <pre>object({<br>    tags     = optional(map(string))<br>    acl_tags = optional(map(string))<br>  })</pre> | <pre>{<br>  "acl_tags": {},<br>  "tags": {}<br>}</pre> | no |
| <a name="input_cluster_network_internal_vpc_dhcp_options"></a> [cluster\_network\_internal\_vpc\_dhcp\_options](#input\_cluster\_network\_internal\_vpc\_dhcp\_options) | The DHCP options configuration for the internal VPC | <pre>object({<br>    enabled              = bool<br>    domain_name          = string<br>    domain_name_servers  = optional(list(string))<br>    ntp_servers          = optional(list(string))<br>    netbios_name_servers = optional(list(string))<br>    netbios_node_type    = optional(string)<br>    tags                 = optional(map(string))<br>  })</pre> | <pre>{<br>  "domain_name": "",<br>  "domain_name_servers": [<br>    "AmazonProvidedDNS"<br>  ],<br>  "enabled": false,<br>  "netbios_name_servers": [],<br>  "netbios_node_type": "",<br>  "ntp_servers": [],<br>  "tags": {}<br>}</pre> | no |
| <a name="input_cluster_network_internal_vpc_enable_dns_hostnames"></a> [cluster\_network\_internal\_vpc\_enable\_dns\_hostnames](#input\_cluster\_network\_internal\_vpc\_enable\_dns\_hostnames) | Whether to enable DNS hostnames for the internal VPC | `bool` | `true` | no |
| <a name="input_cluster_network_internal_vpc_enable_dns_support"></a> [cluster\_network\_internal\_vpc\_enable\_dns\_support](#input\_cluster\_network\_internal\_vpc\_enable\_dns\_support) | Whether to enable DNS support for the internal VPC | `bool` | `true` | no |
| <a name="input_cluster_network_internal_vpc_enable_network_address_usage_metrics"></a> [cluster\_network\_internal\_vpc\_enable\_network\_address\_usage\_metrics](#input\_cluster\_network\_internal\_vpc\_enable\_network\_address\_usage\_metrics) | Whether to enable network address usage metrics for the internal VPC | `bool` | `false` | no |
| <a name="input_cluster_network_internal_vpc_endpoints"></a> [cluster\_network\_internal\_vpc\_endpoints](#input\_cluster\_network\_internal\_vpc\_endpoints) | The VPC endpoints configuration for the internal VPC | <pre>object({<br>    enabled = bool<br>    services = optional(map(object({<br>      service             = string<br>      service_name        = optional(string)<br>      service_type        = optional(string)<br>      policy              = optional(string)<br>      auto_accept         = optional(bool)<br>      private_dns_enabled = optional(bool)<br>    })))<br>    security_group_ids = optional(list(string))<br>    dns_options = optional(object({<br>      dns_record_ip_type                             = optional(string)<br>      private_dns_only_for_inbound_resolver_endpoint = optional(bool)<br>    }))<br>    timeout_options = optional(object({<br>      create = optional(string)<br>      update = optional(string)<br>      delete = optional(string)<br>    }))<br>    tags = optional(map(string))<br>  })</pre> | <pre>{<br>  "dns_options": {},<br>  "enabled": false,<br>  "security_group_ids": [],<br>  "services": {},<br>  "tags": {},<br>  "timeout_options": {}<br>}</pre> | no |
| <a name="input_cluster_network_internal_vpc_instance_tenancy"></a> [cluster\_network\_internal\_vpc\_instance\_tenancy](#input\_cluster\_network\_internal\_vpc\_instance\_tenancy) | The instance tenancy to use for the internal VPC | `string` | `"default"` | no |
| <a name="input_cluster_network_internal_vpc_ipam_pool_options"></a> [cluster\_network\_internal\_vpc\_ipam\_pool\_options](#input\_cluster\_network\_internal\_vpc\_ipam\_pool\_options) | The IPAM pool configuration for the internal VPC | <pre>object({<br>    enabled                              = bool<br>    ipv4_pool_id                         = string<br>    ipv4_netmask_length                  = number<br>    enable_ipv6                          = optional(bool)<br>    ipv6_cidr                            = optional(string)<br>    ipv6_pool_id                         = optional(string)<br>    ipv6_netmask_length                  = optional(number)<br>    ipv6_cidr_block_network_border_group = optional(string)<br>  })</pre> | <pre>{<br>  "enable_ipv6": false,<br>  "enabled": false,<br>  "ipv4_netmask_length": null,<br>  "ipv4_pool_id": null,<br>  "ipv6_cidr": null,<br>  "ipv6_cidr_block_network_border_group": null,<br>  "ipv6_netmask_length": null,<br>  "ipv6_pool_id": null<br>}</pre> | no |
| <a name="input_cluster_network_internal_vpc_nat_gateway_type"></a> [cluster\_network\_internal\_vpc\_nat\_gateway\_type](#input\_cluster\_network\_internal\_vpc\_nat\_gateway\_type) | The type of NAT gateway to use for the internal VPC | `string` | `"one_nat_gateway_per_az"` | no |
| <a name="input_cluster_network_internal_vpc_node_subnets_acls"></a> [cluster\_network\_internal\_vpc\_node\_subnets\_acls](#input\_cluster\_network\_internal\_vpc\_node\_subnets\_acls) | The ACLs configuration for the node subnets in the internal VPC | <pre>object({<br>    enabled = bool<br>    inbound_rules = optional(list(object({<br>      rule_number = number<br>      rule_action = string<br>      from_port   = number<br>      to_port     = number<br>      protocol    = optional(string)<br>      cidr_block  = string<br>    })))<br>    outbound_rules = optional(list(object({<br>      rule_number = number<br>      rule_action = string<br>      from_port   = number<br>      to_port     = number<br>      protocol    = optional(string)<br>      cidr_block  = string<br>    })))<br>  })</pre> | <pre>{<br>  "enabled": false,<br>  "inbound_rules": [<br>    {<br>      "cidr_block": "0.0.0.0/0",<br>      "from_port": 0,<br>      "protocol": "-1",<br>      "rule_action": "allow",<br>      "rule_number": 100,<br>      "to_port": 0<br>    }<br>  ],<br>  "outbound_rules": [<br>    {<br>      "cidr_block": "0.0.0.0/0",<br>      "from_port": 0,<br>      "protocol": "-1",<br>      "rule_action": "allow",<br>      "rule_number": 100,<br>      "to_port": 0<br>    }<br>  ]<br>}</pre> | no |
| <a name="input_cluster_network_internal_vpc_node_subnets_addresses"></a> [cluster\_network\_internal\_vpc\_node\_subnets\_addresses](#input\_cluster\_network\_internal\_vpc\_node\_subnets\_addresses) | The CIDR blocks to use for the node subnets in the internal VPC | `list(string)` | <pre>[<br>  "10.0.96.0/19",<br>  "10.0.128.0/19",<br>  "10.0.160.0/19"<br>]</pre> | no |
| <a name="input_cluster_network_internal_vpc_node_subnets_assign_ipv6_address_on_creation"></a> [cluster\_network\_internal\_vpc\_node\_subnets\_assign\_ipv6\_address\_on\_creation](#input\_cluster\_network\_internal\_vpc\_node\_subnets\_assign\_ipv6\_address\_on\_creation) | Whether to assign an IPv6 address to the node subnets in the internal VPC | `bool` | `false` | no |
| <a name="input_cluster_network_internal_vpc_node_subnets_enable_dns64"></a> [cluster\_network\_internal\_vpc\_node\_subnets\_enable\_dns64](#input\_cluster\_network\_internal\_vpc\_node\_subnets\_enable\_dns64) | Whether to enable DNS64 for the node subnets in the internal VPC | `bool` | `true` | no |
| <a name="input_cluster_network_internal_vpc_node_subnets_enable_resource_name_dns_a_record_on_launch"></a> [cluster\_network\_internal\_vpc\_node\_subnets\_enable\_resource\_name\_dns\_a\_record\_on\_launch](#input\_cluster\_network\_internal\_vpc\_node\_subnets\_enable\_resource\_name\_dns\_a\_record\_on\_launch) | Whether to enable resource name DNS A record on launch for the node subnets in the internal VPC | `bool` | `false` | no |
| <a name="input_cluster_network_internal_vpc_node_subnets_enable_resource_name_dns_aaaa_record_on_launch"></a> [cluster\_network\_internal\_vpc\_node\_subnets\_enable\_resource\_name\_dns\_aaaa\_record\_on\_launch](#input\_cluster\_network\_internal\_vpc\_node\_subnets\_enable\_resource\_name\_dns\_aaaa\_record\_on\_launch) | Whether to enable resource name DNS AAAA record on launch for the node subnets in the internal VPC | `bool` | `true` | no |
| <a name="input_cluster_network_internal_vpc_node_subnets_ipv6_native"></a> [cluster\_network\_internal\_vpc\_node\_subnets\_ipv6\_native](#input\_cluster\_network\_internal\_vpc\_node\_subnets\_ipv6\_native) | Whether to enable IPv6 native for the node subnets in the internal VPC | `bool` | `false` | no |
| <a name="input_cluster_network_internal_vpc_node_subnets_ipv6_prefixes"></a> [cluster\_network\_internal\_vpc\_node\_subnets\_ipv6\_prefixes](#input\_cluster\_network\_internal\_vpc\_node\_subnets\_ipv6\_prefixes) | The IPv6 prefixes to use for the node subnets in the internal VPC | `list(string)` | `[]` | no |
| <a name="input_cluster_network_internal_vpc_node_subnets_private_dns_hostname_type_on_launch"></a> [cluster\_network\_internal\_vpc\_node\_subnets\_private\_dns\_hostname\_type\_on\_launch](#input\_cluster\_network\_internal\_vpc\_node\_subnets\_private\_dns\_hostname\_type\_on\_launch) | The private DNS hostname type on launch for the node subnets in the internal VPC | `string` | `null` | no |
| <a name="input_cluster_network_internal_vpc_node_subnets_tags"></a> [cluster\_network\_internal\_vpc\_node\_subnets\_tags](#input\_cluster\_network\_internal\_vpc\_node\_subnets\_tags) | The tags configuration for the node subnets in the internal VPC | <pre>object({<br>    tags               = optional(map(string))<br>    route_table_tags   = optional(map(string))<br>    subnet_tags_per_az = optional(map(map(string)))<br>    acl_tags           = optional(map(string))<br>  })</pre> | <pre>{<br>  "acl_tags": {},<br>  "route_table_tags": {},<br>  "subnet_tags_per_az": {},<br>  "tags": {}<br>}</pre> | no |
| <a name="input_cluster_network_internal_vpc_private_ingress_subnets_acls"></a> [cluster\_network\_internal\_vpc\_private\_ingress\_subnets\_acls](#input\_cluster\_network\_internal\_vpc\_private\_ingress\_subnets\_acls) | The ACLs configuration for the intranet subnets in the internal VPC | <pre>object({<br>    enabled = bool<br>    inbound_rules = optional(list(object({<br>      rule_number = number<br>      rule_action = string<br>      from_port   = number<br>      to_port     = number<br>      protocol    = optional(string)<br>      cidr_block  = string<br>    })))<br>    outbound_rules = optional(list(object({<br>      rule_number = number<br>      rule_action = string<br>      from_port   = number<br>      to_port     = number<br>      protocol    = optional(string)<br>      cidr_block  = string<br>    })))<br>  })</pre> | <pre>{<br>  "enabled": false,<br>  "inbound_rules": [<br>    {<br>      "cidr_block": "0.0.0.0/0",<br>      "from_port": 0,<br>      "protocol": "-1",<br>      "rule_action": "allow",<br>      "rule_number": 100,<br>      "to_port": 0<br>    }<br>  ],<br>  "outbound_rules": [<br>    {<br>      "cidr_block": "0.0.0.0/0",<br>      "from_port": 0,<br>      "protocol": "-1",<br>      "rule_action": "allow",<br>      "rule_number": 100,<br>      "to_port": 0<br>    }<br>  ]<br>}</pre> | no |
| <a name="input_cluster_network_internal_vpc_private_ingress_subnets_addresses"></a> [cluster\_network\_internal\_vpc\_private\_ingress\_subnets\_addresses](#input\_cluster\_network\_internal\_vpc\_private\_ingress\_subnets\_addresses) | The CIDR blocks to use for the intranet subnets in the internal VPC | `list(string)` | <pre>[<br>  "10.0.64.0/24",<br>  "10.0.65.0/24",<br>  "10.0.66.0/24"<br>]</pre> | no |
| <a name="input_cluster_network_internal_vpc_private_ingress_subnets_assign_ipv6_address_on_creation"></a> [cluster\_network\_internal\_vpc\_private\_ingress\_subnets\_assign\_ipv6\_address\_on\_creation](#input\_cluster\_network\_internal\_vpc\_private\_ingress\_subnets\_assign\_ipv6\_address\_on\_creation) | Whether to assign an IPv6 address to the intranet subnets in the internal VPC | `bool` | `false` | no |
| <a name="input_cluster_network_internal_vpc_private_ingress_subnets_dns_hostname_type_on_launch"></a> [cluster\_network\_internal\_vpc\_private\_ingress\_subnets\_dns\_hostname\_type\_on\_launch](#input\_cluster\_network\_internal\_vpc\_private\_ingress\_subnets\_dns\_hostname\_type\_on\_launch) | The DNS hostname type on launch for the intranet subnets in the internal VPC | `string` | `null` | no |
| <a name="input_cluster_network_internal_vpc_private_ingress_subnets_enable_dns64"></a> [cluster\_network\_internal\_vpc\_private\_ingress\_subnets\_enable\_dns64](#input\_cluster\_network\_internal\_vpc\_private\_ingress\_subnets\_enable\_dns64) | Whether to enable DNS64 for the intranet subnets in the internal VPC | `bool` | `true` | no |
| <a name="input_cluster_network_internal_vpc_private_ingress_subnets_enable_resource_name_dns_a_record_on_launch"></a> [cluster\_network\_internal\_vpc\_private\_ingress\_subnets\_enable\_resource\_name\_dns\_a\_record\_on\_launch](#input\_cluster\_network\_internal\_vpc\_private\_ingress\_subnets\_enable\_resource\_name\_dns\_a\_record\_on\_launch) | Whether to enable resource name DNS A record on launch for the intranet subnets in the internal VPC | `bool` | `false` | no |
| <a name="input_cluster_network_internal_vpc_private_ingress_subnets_enable_resource_name_dns_aaaa_record_on_launch"></a> [cluster\_network\_internal\_vpc\_private\_ingress\_subnets\_enable\_resource\_name\_dns\_aaaa\_record\_on\_launch](#input\_cluster\_network\_internal\_vpc\_private\_ingress\_subnets\_enable\_resource\_name\_dns\_aaaa\_record\_on\_launch) | Whether to enable resource name DNS AAAA record on launch for the intranet subnets in the internal VPC | `bool` | `true` | no |
| <a name="input_cluster_network_internal_vpc_private_ingress_subnets_ipv6_native"></a> [cluster\_network\_internal\_vpc\_private\_ingress\_subnets\_ipv6\_native](#input\_cluster\_network\_internal\_vpc\_private\_ingress\_subnets\_ipv6\_native) | Whether to enable IPv6 native for the intranet subnets in the internal VPC | `bool` | `false` | no |
| <a name="input_cluster_network_internal_vpc_private_ingress_subnets_ipv6_prefixes"></a> [cluster\_network\_internal\_vpc\_private\_ingress\_subnets\_ipv6\_prefixes](#input\_cluster\_network\_internal\_vpc\_private\_ingress\_subnets\_ipv6\_prefixes) | The IPv6 prefixes to use for the intranet subnets in the internal VPC | `list(string)` | `[]` | no |
| <a name="input_cluster_network_internal_vpc_private_ingress_subnets_tags"></a> [cluster\_network\_internal\_vpc\_private\_ingress\_subnets\_tags](#input\_cluster\_network\_internal\_vpc\_private\_ingress\_subnets\_tags) | The tags configuration for the intranet subnets in the internal VPC | <pre>object({<br>    tags             = optional(map(string))<br>    route_table_tags = optional(map(string))<br>    acl_tags         = optional(map(string))<br>  })</pre> | <pre>{<br>  "acl_tags": {},<br>  "route_table_tags": {},<br>  "tags": {}<br>}</pre> | no |
| <a name="input_cluster_network_internal_vpc_secondary_cidr_blocks"></a> [cluster\_network\_internal\_vpc\_secondary\_cidr\_blocks](#input\_cluster\_network\_internal\_vpc\_secondary\_cidr\_blocks) | The secondary CIDR blocks to use for the internal VPC | `list(string)` | `[]` | no |
| <a name="input_cluster_network_internal_vpc_tags"></a> [cluster\_network\_internal\_vpc\_tags](#input\_cluster\_network\_internal\_vpc\_tags) | The tags to apply to the internal VPC | `map(string)` | `{}` | no |
| <a name="input_cluster_network_type"></a> [cluster\_network\_type](#input\_cluster\_network\_type) | The type of network to create. If set to internal, a new VPC will be created. If set to external, an existing VPC will be used | `string` | `"internal"` | no |
| <a name="input_cluster_node_patcher"></a> [cluster\_node\_patcher](#input\_cluster\_node\_patcher) | The node patcher configuration for the Kubernetes cluster | <pre>object({<br>    helm_chart_repository          = optional(string)<br>    helm_chart_repository_config   = optional(string)<br>    helm_chart_version             = optional(string)<br>    helm_chart_name                = optional(string)<br>    helm_chart_namespace           = optional(string)<br>    create_namespace_if_not_exists = optional(bool)<br>    helm_chart_params = optional(list(object({<br>      name  = string<br>      value = any<br>    })))<br>    helm_chart_secrets = optional(list(object({<br>      name  = string<br>      value = any<br>    })))<br>    helm_chart_values = optional(string)<br>  })</pre> | <pre>{<br>  "create_namespace_if_not_exists": true,<br>  "helm_chart_name": "kube-node-reboot",<br>  "helm_chart_namespace": "kube-node-rebooter",<br>  "helm_chart_params": [],<br>  "helm_chart_repository": "oci://public.registry.jetbrains.space/p/helm/library",<br>  "helm_chart_repository_config": null,<br>  "helm_chart_secrets": [],<br>  "helm_chart_values": null,<br>  "helm_chart_version": "5.4.3"<br>}</pre> | no |
| <a name="input_cluster_node_patcher_create"></a> [cluster\_node\_patcher\_create](#input\_cluster\_node\_patcher\_create) | Whether to create the node patcher for the Kubernetes cluster | `bool` | `true` | no |
| <a name="input_cluster_node_security_group"></a> [cluster\_node\_security\_group](#input\_cluster\_node\_security\_group) | The security group configuration for the Kubernetes cluster nodes | <pre>object({<br>    create_default             = optional(bool)<br>    id                         = optional(string)<br>    name                       = optional(string)<br>    use_name_prefix            = optional(bool)<br>    description                = optional(string)<br>    enable_efa_support         = optional(bool)<br>    enable_recommended_rules   = optional(bool)<br>    create_cni_ipv6_iam_policy = optional(bool)<br>    additional_rules           = optional(any)<br>    tags                       = optional(map(string))<br>  })</pre> | <pre>{<br>  "additional_rules": {},<br>  "create_cni_ipv6_iam_policy": false,<br>  "create_default": true,<br>  "description": "EKS node security group",<br>  "enable_efa_support": false,<br>  "enable_recommended_rules": true,<br>  "id": "",<br>  "name": null,<br>  "tags": {},<br>  "use_name_prefix": true<br>}</pre> | no |
| <a name="input_cluster_private_ingress"></a> [cluster\_private\_ingress](#input\_cluster\_private\_ingress) | The cluster private ingress configuration for the Kubernetes cluster | <pre>object({<br>    helm_chart_repository          = optional(string)<br>    helm_chart_repository_config   = optional(string)<br>    helm_chart_version             = optional(string)<br>    helm_chart_name                = optional(string)<br>    helm_chart_namespace           = optional(string)<br>    create_namespace_if_not_exists = optional(bool)<br>    helm_chart_params = optional(list(object({<br>      name  = string<br>      value = any<br>    })))<br>    helm_chart_secrets = optional(list(object({<br>      name  = string<br>      value = any<br>    })))<br>    helm_chart_values = optional(string)<br>  })</pre> | <pre>{<br>  "create_namespace_if_not_exists": true,<br>  "helm_chart_name": "kube-ingress-nginx",<br>  "helm_chart_namespace": "kube-private-ingress",<br>  "helm_chart_params": [],<br>  "helm_chart_repository": "oci://public.registry.jetbrains.space/p/helm/library",<br>  "helm_chart_repository_config": null,<br>  "helm_chart_secrets": [],<br>  "helm_chart_values": null,<br>  "helm_chart_version": "4.10.0"<br>}</pre> | no |
| <a name="input_cluster_private_ingress_create"></a> [cluster\_private\_ingress\_create](#input\_cluster\_private\_ingress\_create) | Whether to create the private ingress for the Kubernetes cluster | `bool` | `true` | no |
| <a name="input_cluster_public_ingress"></a> [cluster\_public\_ingress](#input\_cluster\_public\_ingress) | The cluster public ingress configuration for the Kubernetes cluster | <pre>object({<br>    helm_chart_repository          = optional(string)<br>    helm_chart_repository_config   = optional(string)<br>    helm_chart_version             = optional(string)<br>    helm_chart_name                = optional(string)<br>    helm_chart_namespace           = optional(string)<br>    create_namespace_if_not_exists = optional(bool)<br>    helm_chart_params = optional(list(object({<br>      name  = string<br>      value = any<br>    })))<br>    helm_chart_secrets = optional(list(object({<br>      name  = string<br>      value = any<br>    })))<br>    helm_chart_values = optional(string)<br>  })</pre> | <pre>{<br>  "create_namespace_if_not_exists": true,<br>  "helm_chart_name": "kube-ingress-nginx",<br>  "helm_chart_namespace": "kube-public-ingress",<br>  "helm_chart_params": [],<br>  "helm_chart_repository": "oci://public.registry.jetbrains.space/p/helm/library",<br>  "helm_chart_repository_config": null,<br>  "helm_chart_secrets": [],<br>  "helm_chart_values": null,<br>  "helm_chart_version": "4.10.0"<br>}</pre> | no |
| <a name="input_cluster_public_ingress_create"></a> [cluster\_public\_ingress\_create](#input\_cluster\_public\_ingress\_create) | Whether to create the public ingress for the Kubernetes cluster | `bool` | `false` | no |
| <a name="input_cluster_security_group"></a> [cluster\_security\_group](#input\_cluster\_security\_group) | The security group configuration for the Kubernetes cluster | <pre>object({<br>    create_default                     = optional(bool)<br>    create_primary_security_group_tags = optional(bool)<br>    id                                 = optional(string)<br>    name                               = optional(string)<br>    use_name_prefix                    = optional(bool)<br>    description                        = optional(string)<br>    additional_rules                   = optional(any)<br>    tags                               = optional(map(string))<br>  })</pre> | <pre>{<br>  "additional_rules": {},<br>  "create_default": true,<br>  "create_primary_security_group_tags": true,<br>  "description": "EKS cluster security group",<br>  "id": null,<br>  "name": null,<br>  "tags": {},<br>  "use_name_prefix": true<br>}</pre> | no |
| <a name="input_cluster_service_network_config"></a> [cluster\_service\_network\_config](#input\_cluster\_service\_network\_config) | The internal service network configuration for the Kubernetes cluster | <pre>object({<br>    ip_family         = optional(string)<br>    service_ipv4_cidr = optional(string)<br>    service_ipv6_cidr = optional(string)<br>  })</pre> | <pre>{<br>  "ip_family": "ipv4",<br>  "service_ipv4_cidr": null,<br>  "service_ipv6_cidr": null<br>}</pre> | no |
| <a name="input_cluster_storage_classes_create"></a> [cluster\_storage\_classes\_create](#input\_cluster\_storage\_classes\_create) | Whether to create the custom storage classes for the Kubernetes cluster | `bool` | `true` | no |
| <a name="input_cluster_tags"></a> [cluster\_tags](#input\_cluster\_tags) | The tags to apply to the Kubernetes cluster | `map(string)` | `{}` | no |
| <a name="input_cluster_timeouts"></a> [cluster\_timeouts](#input\_cluster\_timeouts) | The waiting timeouts configuration for the Kubernetes cluster | <pre>object({<br>    create = optional(string)<br>    update = optional(string)<br>    delete = optional(string)<br>  })</pre> | <pre>{<br>  "create": "45m",<br>  "delete": "30m",<br>  "update": "60m"<br>}</pre> | no |
| <a name="input_cluster_version"></a> [cluster\_version](#input\_cluster\_version) | The version of the Kubernetes cluster | `string` | `"1.29"` | no |
| <a name="input_cluster_vpc_config"></a> [cluster\_vpc\_config](#input\_cluster\_vpc\_config) | The VPC configuration for the Kubernetes cluster | <pre>object({<br>    additional_security_group_ids           = optional(list(string))<br>    endpoint_public_access                  = optional(bool)<br>    endpoint_private_access                 = optional(bool)<br>    endpoint_public_access_allow_from_cidrs = optional(list(string))<br>  })</pre> | <pre>{<br>  "additional_security_group_ids": [],<br>  "endpoint_private_access": true,<br>  "endpoint_public_access": true,<br>  "endpoint_public_access_allow_from_cidrs": [<br>    "0.0.0.0/0"<br>  ]<br>}</pre> | no |
| <a name="input_prefix"></a> [prefix](#input\_prefix) | The prefix to be used for all resources in this module | `string` | `"kube"` | no |
| <a name="input_tags"></a> [tags](#input\_tags) | Specify a list of tags as key/value pairs. These tags will be applied to all resources created by this module | `map(string)` | <pre>{<br>  "ResourceCreatedBy": "TerraformModule:terraform-aws-kubernetes"<br>}</pre> | no |
## Outputs

| Name | Description |
|------|-------------|
| <a name="output_cluster"></a> [cluster](#output\_cluster) | Configuration of the Kubernetes cluster |
| <a name="output_cluster_additional_apps"></a> [cluster\_additional\_apps](#output\_cluster\_additional\_apps) | Additional apps' configurations |
| <a name="output_cluster_autoscaler"></a> [cluster\_autoscaler](#output\_cluster\_autoscaler) | Autoscaler configuration for the Kubernetes cluster |
| <a name="output_cluster_autoscaler_resources"></a> [cluster\_autoscaler\_resources](#output\_cluster\_autoscaler\_resources) | Autoscaler resources for the Kubernetes cluster to be used by Cluster Users |
| <a name="output_cluster_descheduler"></a> [cluster\_descheduler](#output\_cluster\_descheduler) | Descheduler configuration for the Kubernetes cluster |
| <a name="output_cluster_ingresses"></a> [cluster\_ingresses](#output\_cluster\_ingresses) | Ingresses for the Kubernetes cluster |
| <a name="output_cluster_logging"></a> [cluster\_logging](#output\_cluster\_logging) | Cluster logging configuration for the Kubernetes cluster |
| <a name="output_cluster_monitoring"></a> [cluster\_monitoring](#output\_cluster\_monitoring) | Monitoring configuration for the Kubernetes cluster |
| <a name="output_cluster_network"></a> [cluster\_network](#output\_cluster\_network) | Configuration of the internal network |
| <a name="output_cluster_node_rebooter"></a> [cluster\_node\_rebooter](#output\_cluster\_node\_rebooter) | Node rebooter configuration for the Kubernetes cluster |
| <a name="output_cluster_ssm_params_paths"></a> [cluster\_ssm\_params\_paths](#output\_cluster\_ssm\_params\_paths) | SSM parameters paths exported by the module for the Kubernetes cluster |
| <a name="output_cluster_storage_classes"></a> [cluster\_storage\_classes](#output\_cluster\_storage\_classes) | Storage classes for the Kubernetes cluster |
<!-- END_TF_DOCS -->